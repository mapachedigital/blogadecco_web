@model PaginatedList<BlogAdecco.Models.Attachment>
@inject IBlogAdeccoUtils BlogAdeccoUtils
@{
    ViewData["Title"] = @R["Media"];
}

<div class="heading my-4">
    <!-- Title Section -->
    <div class="d-flex flex-column flex-lg-row justify-content-lg-between align-items-lg-end mb-4 gap-3">
        <div class="w-100 w-lg-auto">
            <h1 class="anton mb-2">@R["Media"]</h1>
            <p class="text-muted mb-0">@R["Manage your media"]</p>
        </div>
        <div class="d-flex gap-2 w-100 w-lg-auto justify-content-lg-end">
            <a asp-action="Create" class="btn btn-primary btn-lg d-flex align-items-center justify-content-center gap-2 flex-fill flex-lg-grow-0">
                <i class="bi bi-plus-circle"></i>
                <span>@R["Upload New"]</span>
            </a>
        </div>
    </div>

    <!-- Filters Section -->
    <div class="mb-4">
        <partial name="_IndexFilterPartial" model="Model" />
    </div>
</div>

<div class="card border-0 shadow-sm">
    <!-- Table Body -->
    <div class="card-body custom-card-body p-0">
        <div class="row p-3 g-2">

            @foreach (var item in Model)
            {
                <div class="col-3">
                    <a asp-action="Details" asp-route-id="@item.Id">
                        @if (item.IsImage)
                        {
                            <img src="@await BlogAdeccoUtils.GetAttachmentUrlAsync(item, Url, true)" class="img-thumbnail img-fluid gallery-thumbnail" alt="@item.OriginalFilename" title="@item.OriginalFilename" />
                        }
                        else
                        {
                            <div class="img-thumbnail img-fluid gallery-thumbnail text-center align-content-center">@item.OriginalFilename</div>
                        }
                    </a>
                </div>
            }
        </div>
    </div>
</div>

<vc:pagination page-index="@Model.PageIndex" total-pages="@Model.TotalPages" total-items="@Model.TotalItems" page-items="@Model.Count" page-size="@Model.PageSize" default-page-sizes="[12, 48, 120]" />
